# 寻求帮助

本页介绍了如何通过发布 Github 问题或在在线论坛发布可重现的示例（\"reprex\"）来获得帮助。

## Github 问题

许多 R packages 和项目的代码托管在 Github.com 网站上。 您可以通过发布\"问题\"在 Github 网站直接与作者交流。

您可以通过阅读[协作和 Github] 页面来了解有关如何在 Github 上存储您的工作。

在 Github 上，每个项目都被包含在一个资源库中。 每个资源库都包含代码、数据、输出、帮助文档等。最重要的是还有一个与作者交流的工具，称为\"问题 Issue\"。

请参阅下面的 Github 页面以获取 **incidence2** package（用于制作流行曲线）。 您可以看到以黄色突出显示的\"问题\"选项卡里有 5 个未解决的问题。

```{r, warning=F, message=F, echo=F}
knitr::include_graphics(here::here("images", "errors_Github_issues.png"))
```

进入\"问题\"选项卡后，您可以看到已提出来的问题。 您可以查看它们以确保您的问题还没有被提出或者被解决。 您可以通过单击右侧的绿色按钮打开一个新问题。 您将需要一个 Github 帐户来执行此操作。

```{r, warning=F, message=F, echo=F}
knitr::include_graphics(here::here("images", "errors_Github_issues2.png"))
```

对于您的问题，请按照以下说明提供一个最小的、可重现的示例。 请保持礼貌！ 大多数开发 R packages 和项目的人员都不把开发作为本职工作（比如这本手册！）。

如果您需要阅读更多有关Github 问题的高级资料，请查看[Github 的 Issues 文档](https://guides.github.com/features/issues/)。

## 可重现的例子

在论坛或 Github 问题中发帖时，提供可重现的示例（\"reprex\"）是获得帮助的关键。 大部分人们都想帮助您，但是您必须给他们一个可以在他们自己的计算机上使用的例子。 该示例应：

-   能够清楚展示您遇到的问题\
-   代码尽量少，因为它只应包含重现问题所需的数据和代码\
-   可重现，包括所有对象（例如数据）、package 调用（例如 library() 或 p_load()）

另外，请确保您不要使用 reprex 发布任何敏感数据！ 您可以创建示例数据集，或使用 R 中内置的数据集之一（输入 `data()` 打开这些数据集的列表）。

### R**eprex** package {.unnumbered}

**Reprex** package 可以帮助您制作可重现的示例：

1)  **reprex** 会与 **tidyverse** 一起安装，因此请加载任一包。

```{r, eval=F}
# 安装/加载 tidyverse (包括 reprex)
pacman::p_load(tidyverse)
```

2)  新建一个 R 脚本，从加载 packages 和数据开始，逐步创建您的问题。

```{r, eval=F}
# 加载 packages
pacman::p_load(
     tidyverse,  # 数据管理和可视化
     outbreaks)  # 爆发数据集示例

# 流感流行病例列表
outbreak_raw <- outbreaks::fluH7N9_china_2013  # 暴发 package中检索数据集

# 清理数据集
outbreak <- outbreak_raw %>% 
     mutate(across(contains("date"), as.Date))

# 流行病绘图

ggplot(data = outbreak)+
     geom_histogram(
          mapping = aes(x = date_of_onset),
          binwidth = 7
     )+
  scale_x_date(
    date_format = "%d %m"
  )

```

将所有代码复制到剪贴板，然后运行以下命令：

```{r, eval=F}
reprex::reprex()
```

您将看到 HTML 输出出现在 RStudio 查看器窗格中。 它将包含您的所有代码以及任何警告、错误或绘图输出。此输出也会被复制到您的剪贴板，因此您可以将其直接发布到 Github 问题或论坛帖子中。

```{r, out.width=c('100%', '100%'), warning=F, message=F, echo=F}
knitr::include_graphics(here::here("images", "errors_reprex_RStudio1.png"))
```

-   如果您设置 `session_info = TRUE`，则`sessioninfo::session_info()` 的输出将包含您的R 和 R package 的版本信息\
-   您可以通过`wd =`来提供一个工作目录\
-   您可以在[文档]()中或者通过输入`?reprex` 来阅读更多关于参数的信息

在上面的示例中，`ggplot()` 命令没有运行，因为 `date_format =` 不正确， 它应该是 `date_labels =`。

### 最少的数据 {.unnumbered}

帮助者往往需要能够使用您的数据 - 理想情况下，他们能够使用代码创建它。

要创建最小数据集，请考虑匿名化并仅使用观察集的子集。

您还可以使用函数 `dput()` 创建最小数据集。

## 发布到论坛

您可以阅读大量论坛帖子，从而了解哪些帖子写得好，哪些帖子写得不好。

1)  首先，你要决定是否要问这个问题。 您是否彻底查看了论坛网站，尝试了各种搜索词，检查您的问题是否已经被提出？

2)  给你的问题一个信息量较大的标题（而不是\"帮助！这不起作用\"）。

3)  描述您的问题:

-   介绍你的情况和问题\
-   链接到类似问题的帖子，并解释为什么他们的答案不能回答您的问题\
-   总结任何相关信息以帮助不了解您工作背景的人\
-   用你的 R 会话信息给出一个最小的可重复的例子\
-   使用正确的拼写、语法、标点符号，并将你的问题分成几段，以便于阅读

4)  发布后及时查看您的问题，以回应任何请求。 要有礼貌和亲切------回答的人通常是自愿抽出时间来帮助你。 如果您有后续问题，请考虑是否应该单独发布问题。

5)  如果已经得到答案，则将问题标记为已回答。这可以帮助其他人很快地了解到解决方案。

阅读这些帖子，了解[如何提出一个好问题](https://stackoverflow.com/help/how-to-ask)和[Stack overflow 代码准则](https://stackoverflow.com/conduct)。

<!-- ======================================================= -->

## 资料来源

关于如何[获得帮助](https://www.tidyverse.org/help/#:~:text=When%20you%20want%20to%20make,to%20load%20the%20reprex%20package.&text=Enter%20reprex()%20in%20the,preview%20of%20your%20rendered%20reprex.)的Tidyverse页面

[生成最小数据集](https://xiangxing98.github.io/R_Learning/R_Reproducible.nb.html#producing-a-minimal-dataset)的技巧

[dput 函数](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/dput)的文档
